<?xml version="1.0" encoding="utf-8" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

           <parameters>
               <parameter key="oneup_uploader.chunks.manager.class">Oneup\UploaderBundle\Uploader\Chunk\ChunkManager</parameter>
               <parameter key="oneup_uploader.orphanage.manager.class">Oneup\UploaderBundle\Uploader\Orphanage\OrphanageManager</parameter>
               <parameter key="oneup_uploader.routing.loader.class">Oneup\UploaderBundle\Routing\RouteLoader</parameter>
               <parameter key="oneup_uploader.controller.class">Oneup\UploaderBundle\Controller\UploaderController</parameter>
           </parameters>

           <services>
               <service id="oneup_uploader.chunks.manager" class="%oneup_uploader.chunks.manager.class%">
                   <argument>%oneup_uploader.chunks%</argument>
               </service>

               <service id="oneup_uploader.orphanage.manager" class="%oneup_uploader.orphanage.manager.class%">
                   <argument>%oneup_uploader.orphanage%</argument>
               </service>
               
               <!-- controller -->
               <service id="oneup_uploader.controller" class="%oneup_uploader.controller.class%">
                   <argument>%oneup_uploader.mappings%</argument>
                   <argument type="service" id="service_container" />
               </service>
               
               <!-- routing -->
               <service id="oneup_uploader.routing.loader" class="%oneup_uploader.routing.loader.class%">
                   <argument>%oneup_uploader.routing.action%</argument>
                   <argument>%oneup_uploader.routing.name%</argument>
                   <argument>%oneup_uploader.mappings%</argument>
                   
                   <tag name="routing.loader" />
               </service>
               
           </services>

</container>